/*!
 * jQuery Selectfy - 1.0.0
 * (c) 2015 Dorival Neto, MIT Licensed.
 * http://github.com/dorival/jquery.selectfy
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){"use strict";function e(e,s){s.element.find("."+s.options.highlightClass).removeClass(s.options.highlightClass),t(e).addClass(s.options.highlightClass),s.last=e}function s(s,i){var n=t(s);return n.hasClass(i.options.selectedClass)?!1:(n.addClass(i.options.selectedClass),e(s,i),!0)}function i(e,s){var i=t(e);return i.hasClass(s.options.selectedClass)?(i.removeClass(s.options.selectedClass),!0):!1}function n(e,n){t(e).hasClass(n.options.selectedClass)?i(e,n):s(e,n)}function l(e,s){var i=t(s.element).find("."+s.options.selectedClass);t(e).trigger("change."+o,{selectedCount:i.length,selected:i})}var o="selectfy",a={shiftSelect:!0,ctrlSelect:!0,selectable:"[data-selectable]",selectedClass:"selected",highlightClass:"highlighted"},c=function(t,e){this.element=t,this.options=e,this.pivot=null,this.last=null,this.init()};c.prototype={constructor:c,unselectAll:function(){var t=this;return this.element.find(this.options.selectable).each(function(){i(this,t)}),l(this.element,this),!0},selectAll:function(){var t=this;return this.element.find(this.options.selectable).each(function(){s(this,t)}),l(this.element,this),!0},getSelected:function(){return this.element.find("."+this.options.selectedClass)},getCount:function(){return this.element.find("."+this.options.selectedClass).length},init:function(){var o=this;this.element.find(this.options.selectable).on("click",function(a){a.stopPropagation();var c=a.ctrlKey&&o.options.ctrlSelect,h=a.shiftKey&&o.options.shiftSelect;if(!c&&!h)return o.element.find("."+o.options.selectedClass).each(function(){i(this,o)}),o.pivot=this,s(this,o),e(this,o),void l(this,o);if(c&&h)return void e(this,o);if(c&&(o.pivot=this,n(this,o),e(this,o),0===o.element.find("."+o.options.selectedClass).count&&(o.pivot=null),l(this,o)),h){if(null===o.pivot){var r=o.element.find("."+o.options.highlightClass);o.pivot=r.count>=1?r.first():o.element.find(o.options.selectable).first()}var f=t(o.pivot).index(),u=t(this).index();f>u&&(f^=u,u=f^u,f^=u),o.element.find(o.options.selectable).each(function(e){var s=t(this);e>=f&&u>=e?s.addClass(o.options.selectedClass):s.removeClass(o.options.selectedClass)}),l(this,o),e(this,o)}})}},t.fn[o]=function(e){var s=arguments,i="plugin_";if(void 0===e||"object"==typeof e)return e=t.extend(!0,{},a,e),this.each(function(){t.data(this,i+o)||t.data(this,i+o,new c(t(this),e))});if("string"==typeof e&&"init"!==e){if(0===Array.prototype.slice.call(s,1).length){var n=t.data(this[0],i+o);return n[e].apply(n,Array.prototype.slice.call(s,1))}return this.each(function(){var n=t.data(this,i+o);n instanceof c&&"function"==typeof n[e]&&n[e].apply(n,Array.prototype.slice.call(s,1))})}return-1},t.fn[o].defaults=a,t.fn[o].Plugin=c});